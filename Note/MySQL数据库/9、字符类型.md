字符类型

字符类型指定的位宽，是表示可输入的字符个数

char（定长：如char(5)，输入的不够5个字符时，存储过程中会以空格补全，如value('你好 ')，2个字符和一个空格，那么在存储的过程中，会补全2个空格，变成2个字符和3个空格，会用空格补全至5个字符，但是在取出时，取出的长度是2，只取出了实际存在的字符）





varchar（变长，如char(5)，输入的不够5个字符时，value(‘你好 )，2个字符和一个空格，存储了3个字符，那么在取出时，也是会取出3个字符，存几个字符就存几个字符）



通过select char_length(列名) from xxx来查看取出的数据长度



如果想怎么存储的就怎么取出，需要修改一下数据库存储模式：





虽然存储的过程中补全了空格，但是通过where条件查询时，是没有任何影响的，如存储的是’你好+空格‘，但是查询时直接where name='你好'就可以正常查询出来



like查询时不会在查询时取出数据结尾的空格



char和varchar的存储区别：

不够位宽时，自动补全空格，所以在查询时直接取出

char(5)

alex |peiqi|wxx  |

虽然存储2个字节，存储的是5个字节，存储的是3个字节，存储的也是5个字节，

但是如果存储的是5个字节，那么存储的也是5个字节，

对比于varchar来说，存储5个字节，那么会需要6个字节，因为需要1个字节来存储长度，

所以char类型对于存储刚好够位宽长度的数据来说，是节省存储空间的





存储数据时，需要1bytes存储数据的长度，如果存储的数据超出了255个字节，那么会用2个字节去存储数据长度

varchar(5)

1bytes+alex|1bytes+peiqi|1bytes+wxx



数据库本质来说，是存储精简的数据，如果要取出大数据时，时通过数据库得到文件的下载地址，或时路径，通过下载地址去其他服务器调取文件，会减少数据库服务器的压力



char的优点：

存、取数据都非常快，因为不管数据的实际长度是多少，直接按照最大位宽来存储数据，在取出时也无需查看数据的实际大小，直接取出补全的空格后取出

char的缺点：

浪费了空间



varchar的优点：

节省空间

varchar的缺点：

存、取数据速度慢，因为都要计算、存储、读取数据的实际长度

所以大部分应用场景都是用char，

如果存储的数据很长时间不需要查询，只是存储数据用，那么用varchar更适合

建表时，讲定长的数据在列的排序上，往前放

在创建数据类型时，最好不要char和varchar混合使用