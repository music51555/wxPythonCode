分页器

批量插入数据

book_list=[]

for i in range(100):

​	book_obj=Book(title=xxx,price=xxx)

​	book_list.append(book_obj)

book.objects.bulk_create(book_list)

变为依据insert的sql，插入所有数据



from 

创建分页对象，传入列表，每页显示的条数

paginator=Paginator(book_list,10)

对象的一些属性

paginator.count 数据总数

num_pages，根据每页的数据量得出的总页数

page_range，页码列表



给定初始页码，获取初始页面的书籍信息

?page=3

current_page=int(request.GET.get('page',1))

current_page=paginator.page().page(current_page)



page1=paginator.page(1) 获取某一页的对象，对象类型时queryset类型，存储的是这一页每一本书的对象

for i in page1 也可以进行for循环



如果访问的是不存在的页数，会报EmptyPage

添加try：

except 

捕获到异常后，直接定位到第1页

current_page=paginator.page().page(1)